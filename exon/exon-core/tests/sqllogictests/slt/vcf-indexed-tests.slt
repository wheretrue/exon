control substitution on

statement ok
CREATE EXTERNAL TABLE indexed_vcf_table STORED AS INDEXED_VCF COMPRESSION TYPE GZIP LOCATION '$CARGO_MANIFEST_DIR/test-data/datasources/vcf/index.vcf.gz'

# If we try to select from a statement w/o a region filter we should get an error.
statement error
SELECT * FROM indexed_vcf_table;

# If we try to select from a statement w/ a region filter we should not get an error.
statement ok
SELECT * FROM indexed_vcf_table WHERE vcf_region_filter('1', chrom) = true;

# Clean up after the test
statement ok
DROP TABLE indexed_vcf_table;
